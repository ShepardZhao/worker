<!doctype html>
<html>
	<head>
		<title>web worker example</title>
	</head>

	<body>
    <h1>Look In The Console</h1>
		<script src="src/worker.js"></script>
		<script>
      // Create worker instance
      var worker = $worker();

      // override the onmessage method for ALL workers from given instance
      worker.extend({
        onmessage: function(e) {
          console.log(e.data);
        }
      });

      // create web worker from worker instance
      var worker1 = worker.create(function() {
        self.postMessage('Hello World');
      });

      // create another web worker from worker instance
      var worker2 = worker.create(function() {
        self.postMessage('Goodbye World');
      });

      // Post to ALL workers in instance
      worker.postMessage();
		</script>
	</body>
</html>
