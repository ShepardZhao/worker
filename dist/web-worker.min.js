function $Worker(r,e,o){var t=this,n=["self.onmessage = ",r,";"];t.hasWorkers=o?!1:!!window.Worker,t.blob=null,t.shell=null,t.fb=e,t.hasWorkers&&(t.blob=new Blob(n,{type:"text/javascript"}),t.shell=new Worker(window.URL.createObjectURL(t.blob))),t.getBlobArray=function(){return n},t.updateBlobArray=function(r){n.unshift(r)},t.removeFromBlobArray=function(r,e){n.splice(r,e)}}$Worker.prototype.postMessage=function(r){var e=this;e.hasWorkers?(e.shell.postMessage(r),e.shell.onmessage=function(r){e.onmessage(r.data)},e.shell.onerror=e.onerror):e.onmessage("function"==typeof e.fb?e.fb({data:r}):e.error("0001"))},$Worker.prototype.onmessage=function(){},$Worker.prototype.onerror=function(){console.error(this.error("0002"))},$Worker.prototype.terminate=function(){var r=this;r.hasWorkers&&r.shell.terminate()},$Worker.prototype.loadScripts=function(){for(var r,e,o,t=this,n=0,a=arguments.length;a>n;n++)r=arguments[n],o=Object.keys(r)[0],e=r[o],t.updateBlobArray(";"),t.updateBlobArray(e),t.updateBlobArray(t.makeVarName(o));t.hasWorkers&&(t.blob=new Blob(t.getBlobArray(),{type:"text/javascript"}),t.shell=new Worker(window.URL.createObjectURL(t.blob)))},$Worker.prototype.removeScripts=function(){for(var r,e=this,o=e.getBlobArray(),t=0,n=arguments.length;n>t;t++)r=o.indexOf(e.makeVarName(arguments[t])),e.removeFromBlobArray(r,3);e.hasWorkers&&(e.blob=new Blob(e.getBlobArray(),{type:"text/javascript"}),e.shell=new Worker(window.URL.createObjectURL(e.blob)))},$Worker.prototype.makeVarName=function(r){return"var "+r+" = "},$Worker.prototype.error=function(r){return{code:r,message:this.errors[r]}},Object.defineProperty($Worker.prototype,"errors",{enumerable:!1,configurable:!1,writable:!1,value:{"0001":"web workers are not supported in your current browser and no fallback has been given","0002":"something went wrong with your worker"}});