function $worker(e,n){function t(e){var t=this;if(a)window.URL=window.URL||window.webkitURL,c.postMessage(e),c.onmessage=function(e){t.onmessage(e.data)};else{if("function"!=typeof n)throw"web workers are not supported in your current browser";n(e)}}function o(){}function r(){c.terminate()}function i(){for(var e=arguments,n=0,t=e.length;t>n;n++)s.push(e[n]);w=new Blob(s,{type:"text/javascript"}),c=new Worker(window.URL.createObjectURL(w))}var s=["self.onmessage = ",e.toString(),";"],w=window.Blob?new Blob(s,{type:"text/javascript"}):null,a=!!window.Worker,c=a?new Worker(window.URL.createObjectURL(w)):null;return{postMessage:t,onmessage:o,terminate:r,loadScripts:i}}