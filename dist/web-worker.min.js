function $worker(e,n){function t(e){var t=this;if(c)window.URL=window.URL||window.webkitURL,i.postMessage(e),i.onmessage=function(e){t.onmessage(e.data)};else{if("function"!=typeof n)throw"web workers are not supported in your current browser";t.onmessage(n(e))}}function o(){}function r(){i.terminate()}function s(){for(var e=arguments,n=0,t=e.length;t>n;n++)w.push(e[n]);a=new Blob(w,{type:"text/javascript"}),i=new Worker(window.URL.createObjectURL(a))}var a,i,w=["self.onmessage = ",e,";"],c=!!window.Worker;return a&&(a=new Blob(w,{type:"text/javascript"}),i=new Worker(window.URL.createObjectURL(a))),{postMessage:t,onmessage:o,terminate:r,loadScripts:s}}