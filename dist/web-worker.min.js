function $Worker(e,r,o){function t(e){return{code:e,message:b[e]}}function a(){return i}function n(e){i.unshift(e)}function s(e,r){i.splice(e,r)}var l=this,b={"0001":"web workers are not supported in your current browser and no fallback has been given"},i=["self.onmessage = ",e,";"];l.hasWorkers=o?!1:!!window.Worker,l.blob=null,l.shell=null,l.fb=r,l.hasWorkers&&(l.blob=new Blob(i,{type:"text/javascript"}),l.shell=new Worker(window.URL.createObjectURL(l.blob))),l.errorHandler=t,l.getBlobArray=a,l.updateBlobArray=n,l.removeFromBlobArray=s}$Worker.prototype.postMessage=function(e){var r=this;r.hasWorkers?(r.shell.postMessage(e),r.shell.onmessage=function(e){r.onmessage(e.data)}):r.onmessage("function"==typeof r.fb?r.fb({data:e}):r.errorHandler("0001"))},$Worker.prototype.onmessage=function(){},$Worker.prototype.terminate=function(){var e=this;e.hasWorkers&&e.shell.terminate()},$Worker.prototype.loadScripts=function(){for(var e,r,o,t=this,a=0,n=arguments.length;n>a;a++)e=arguments[a],o=Object.keys(e)[0],r=e[o],t.updateBlobArray(";"),t.updateBlobArray(r),t.updateBlobArray("var "+o+" = ");t.hasWorkers&&(t.blob=new Blob(t.getBlobArray(),{type:"text/javascript"}),t.shell=new Worker(window.URL.createObjectURL(t.blob)))},$Worker.prototype.removeScripts=function(){for(var e,r=this,o=r.getBlobArray(),t=0,a=arguments.length;a>t;t++)e=o.indexOf("var "+arguments[t]+" = "),r.removeFromBlobArray(e,3);r.hasWorkers&&(r.blob=new Blob(r.getBlobArray(),{type:"text/javascript"}),r.shell=new Worker(window.URL.createObjectURL(r.blob)))};