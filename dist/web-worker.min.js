function $Worker(r,e,o){function t(r){return{code:r,message:b[r]}}function n(){return i}function a(r){i.unshift(r)}function s(r,e){i.splice(r,e)}var l=this,b={"0001":"web workers are not supported in your current browser and no fallback has been given"},i=["self.onmessage = ",r,";"];l.hasWorkers=o?!1:!!window.Worker,l.blob=null,l.shell=null,l.fb=e,l.hasWorkers&&(l.blob=new Blob(i,{type:"text/javascript"}),l.shell=new Worker(window.URL.createObjectURL(l.blob))),l.errorHandler=t,l.getBlobArray=n,l.updateBlobArray=a,l.removeFromBlobArray=s}$Worker.prototype.postMessage=function(r){var e=this;e.hasWorkers?(e.shell.postMessage(r),e.shell.onmessage=function(r){e.onmessage(r.data)},e.shell.onerror=e.onerror):e.onmessage("function"==typeof e.fb?e.fb({data:r}):e.errorHandler("0001"))},$Worker.prototype.onmessage=function(){},$Worker.prototype.onerror=function(){},$Worker.prototype.terminate=function(){var r=this;r.hasWorkers&&r.shell.terminate()},$Worker.prototype.loadScripts=function(){for(var r,e,o,t=this,n=0,a=arguments.length;a>n;n++)r=arguments[n],o=Object.keys(r)[0],e=r[o],t.updateBlobArray(";"),t.updateBlobArray(e),t.updateBlobArray("var "+o+" = ");t.hasWorkers&&(t.blob=new Blob(t.getBlobArray(),{type:"text/javascript"}),t.shell=new Worker(window.URL.createObjectURL(t.blob)))},$Worker.prototype.removeScripts=function(){for(var r,e=this,o=e.getBlobArray(),t=0,n=arguments.length;n>t;t++)r=o.indexOf("var "+arguments[t]+" = "),e.removeFromBlobArray(r,3);e.hasWorkers&&(e.blob=new Blob(e.getBlobArray(),{type:"text/javascript"}),e.shell=new Worker(window.URL.createObjectURL(e.blob)))};