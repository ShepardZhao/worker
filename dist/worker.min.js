function $worker(){function t(t){t.blob=new Blob(t.blobArray,{type:"text/javascript"}),t.shell=new Worker(window.URL.createObjectURL(t.blob)),t.shell.onmessage=function(r){o.concat(t.successMethods).forEach(function(t){t(r)})},t.shell.error=function(r){i.concat(t.errorMethods).forEach(function(t){t(r)})}}function r(t){return"self."+t+" = "}function n(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);return t}function e(t,r){r=r||{},t.shell.postMessage(r)}var s=[],o=[],i=[],u={shell:{},successMethods:[],errorMethods:[],blobArray:[],run:function(t){return e(this,t),this},success:function(t){return this.successMethods.push(t),this},error:function(t){return this.errorMethods.push(t),this},terminate:function(){s.splice(s.indexOf(this),1),this.shell.terminate()},loadScripts:function(n){var e,s;for(var o in n)n.hasOwnProperty(o)&&(e=o,s=n[o],this.blobArray.unshift(";"),this.blobArray.unshift(s.toString()),this.blobArray.unshift(r(e)));return t(this),this},removeScripts:function(){for(var n,e=0,s=arguments.length;s>e;e++)n=this.blobArray.indexOf(r(arguments[e])),this.blobArray.splice(n,3);return t(this),this}};return{create:function(r){var n=Object.create(u);return n.blobArray=["self.onmessage = ",r.toString(),";"],t(n),s.push(n),n},success:function(t){return o.push(t),this},error:function(t){return i.push(t),this},extend:function(t){return n(u,t),this},run:function(t){return s.forEach(function(r){e(r,t)}),this},terminate:function(){return s.forEach(function(t){t.shell.terminate()}),s.length=0,this},list:function(){return s}}}