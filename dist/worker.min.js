function $worker(){function r(r){r.blob=new Blob(r.blobArray,{type:"text/javascript"}),r.shell=new Worker(window.URL.createObjectURL(r.blob))}function t(r){return"self."+r+" = "}function n(r,t){for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function e(r,t){t=t||{};var e=n({_src:window.location.protocol+"//"+window.location.host},t);r.shell.postMessage(e)}var o=[],i={shell:{},blobArray:[],run:function(r){return e(this,r),this},success:function(r){return this.shell.onmessage=r,this},error:function(r){return this.shell.onerror=r,this},terminate:function(){o.splice(o.indexOf(this),1),this.shell.terminate()},loadScripts:function(n){var e,o;for(var i in n)n.hasOwnProperty(i)&&(e=i,o=n[i],this.blobArray.unshift(";"),this.blobArray.unshift(o.toString()),this.blobArray.unshift(t(e)));return r(this),this},removeScripts:function(){for(var n,e=0,o=arguments.length;o>e;e++)n=this.blobArray.indexOf(t(arguments[e])),this.blobArray.splice(n,3);return r(this),this}};return{create:function(t){var n=Object.create(i);return n.blobArray=["self.onmessage = ",t.toString(),";"],r(n),o.push(n),n},success:function(r){return o.forEach(function(t){t.shell.onmessage=r}),this},error:function(r){return o.forEach(function(t){t.shell.onerror=r}),this},extend:function(r){return n(i,r),this},run:function(r){return o.forEach(function(t){e(t,r)}),this},terminate:function(){return o.forEach(function(r){r.shell.terminate()}),o.length=0,this},list:function(){return o}}}