function $worker(){function e(e){var t=Object.create(a);return t.blobArray=["self.onmessage = ",e.toString(),";"],t.blob=new Blob(t.blobArray,{type:"text/javascript"}),t.shell=new Worker(i(t.blob)),l.push(t),t}function t(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}function r(e){for(var t,r=0,s=l.length;s>r;r++)t=l[r],t.shell.postMessage(e),t.shell.onmessage=t.onmessage,t.shell.onerror=t.onerror}function s(){for(var e,t=0,r=l.length;r>t;t++)e=l[t],e.shell.terminate();l.length=0}function n(){return l}function o(e){return"self."+e+" = "}var i=window.URL.createObjectURL,l=[],a={onmessage:function(){},onerror:function(){},postMessage:function(e){this.shell.postMessage(e),this.shell.onmessage=this.onmessage,this.shell.onerror=this.onerror},terminate:function(){l.splice(l.indexOf(this),1),this.shell.terminate()},loadScripts:function(e){var t,r;for(var s in e)e.hasOwnProperty(s)&&(t=s,r=e[s],this.blobArray.unshift(";"),this.blobArray.unshift(r.toString()),this.blobArray.unshift(o(t)));this.blob=new Blob(this.blobArray,{type:"text/javascript"}),this.shell=new Worker(i(this.blob))},removeScripts:function(){for(var e,t=0,r=arguments.length;r>t;t++)e=this.blobArray.indexOf(o(arguments[t])),this.blobArray.splice(e,3);this.blob=new Blob(this.blobArray,{type:"text/javascript"}),this.shell=new Worker(i(this.blob))}};return{create:e,extend:t,postMessage:r,terminate:s,list:n}}