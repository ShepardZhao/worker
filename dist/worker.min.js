function $worker(){function t(t){var r=Object.create(c);return r.blobArray=["self.onmessage = ",t.toString(),";"],o.call(r),h.push(r),r}function r(t){for(var r in t)t.hasOwnProperty(r)&&(c[r]=t[r]);return this}function e(t){for(var r=0,e=h.length;e>r;r++)i.call(h[r],t);return this}function n(){for(var t=0,r=h.length;r>t;t++)h[t].shell.terminate();return h.length=0,this}function s(){return h}function i(t){this.shell.postMessage(t),this.shell.onmessage=this.onmessage,this.shell.onerror=this.onerror}function o(){this.blob=new Blob(this.blobArray,{type:"text/javascript"}),this.shell=new Worker(l(this.blob))}function a(t){return"self."+t+" = "}var l=window.URL.createObjectURL,h=[],c={postMessage:i,onmessage:function(){},onerror:function(){},terminate:function(){h.splice(h.indexOf(this),1),this.shell.terminate()},loadScripts:function(t){var r,e;for(var n in t)t.hasOwnProperty(n)&&(r=n,e=t[n],this.blobArray.unshift(";"),this.blobArray.unshift(e.toString()),this.blobArray.unshift(a(r)));o.call(this)},removeScripts:function(){for(var t,r=0,e=arguments.length;e>r;r++)t=this.blobArray.indexOf(a(arguments[r])),this.blobArray.splice(t,3);o.call(this)}};return{create:t,extend:r,postMessage:e,terminate:n,list:s}}